{% extends "base.html" %}
{% block content %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />

<div class="container mt-4">
  <h2 class="mb-4 text-center">Compare Identities: {{ project_name1 }} vs {{ project_name2 }}</h2>

  {% if matched_data %}
    {% for pair in matched_data %}
    <div class="card mb-5 shadow-sm">
      <div class="card-header bg-secondary text-white text-center">
        <h5>Identity "{{ pair.id1_name }}" ({{ project_name1 }}) vs "{{ pair.id2_name }}" ({{ project_name2 }})</h5>
      </div>
      <div class="card-body">
        <div class="row">
          <!-- Left identity -->
          <div class="col-md-6 text-center">
            <h6 class="mb-3">Project 1 Sample</h6>
            {% if pair.id1_imgs_zipped %}
              <img src="{{ pair.id1_imgs_zipped }}" 
                   alt="Sample Image" 
                   class="img-fluid rounded shadow" 
                   style="max-height: 300px; object-fit: contain;">
            {% else %}
              <p class="text-muted">No image available</p>
            {% endif %}
          </div>

          <!-- Right identity -->
          <div class="col-md-6 text-center">
            <h6 class="mb-3">Project 2 Sample</h6>
            {% if pair.id2_imgs_zipped %}
              <img src="{{ pair.id2_imgs_zipped }}" 
                   alt="Sample Image" 
                   class="img-fluid rounded shadow" 
                   style="max-height: 300px; object-fit: contain;">
            {% else %}
              <p class="text-muted">No image available</p>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
    {% endfor %}
  {% else %}
    <p class="text-center text-muted">No matched identities found between these projects.</p>
  {% endif %}
</div>
{% endblock %}
